## End-to-End Testing



**Full Workflow Test**  
This test exercises the full workflow of the client application:
1. Uploading log files to the backend service.
2. Processing the logs through the API.
3. Collecting results and generating internal data maps.
4. Generating visual graphs from the processed data.

---

### Test Objective
- Verify that the client correctly interacts with the backend APIs.
- Ensure the uploaded logs are processed as expected.
- Confirm that the client correctly constructs the internal data structures for reporting and graph generation.

---

### Test Inputs
- **Log File(s):**
    - `sampleLogs/fullDayLog1.log`
    - `sampleLogs/fullDayLog2.log`
- **Client Parameters:**
    - `clientId`: `x4156`
  

---

### Steps Performed
1. **Start the Client:** Launch the client program locally. Use: 

   mvn exec:java "-Dexec.mainClass=dev.coms4156.client.LogProcessorClient"
2. **Enter Client ID** x4156
3. **Enter API Key** "API key"

    At this point if there were any previous logs for that client ID, they are
    reset
4. **Enter Path to log file** sampleLogs/fullDayLog1.log
5. **Upload Logs:** The client then uploads the log file to the backend. And prints
   a response upon success.
- <img src="/images/End-to-End-1.png" alt="alt text" />

    The user is prompted to add another log path. Add sampleLogs/fullDayLog2.log
- <img src="/images/End-to-End-2.png" alt="alt text" />

    Type "quit" to exit the log upload loop
6. **API Interaction:**
    - The client calls the backend APIs to process logs.
   
7. **Collect Results:**
    - The client constructs internal data maps from API responses.
    - These maps are printed to the console for verification.
- <img src="/images/End-to-End-6.png" alt="alt text" />
8. **Visualization:**
    - Graphs generated by the client are visually inspected to ensure they match the data trends from the logs.
- <img src="/images/End-to-End-3.png" alt="alt text" />
- <img src="/images/End-to-End-4.png" alt="alt text" />
- <img src="/images/End-to-end-5.png" alt="alt text" />


---

### Expected Results
- API calls return successful status codes (`200 OK`).
- Data maps produced by the client match the counts and timestamps from the uploaded log file.
- Visual graphs correctly reflect the underlying data.

## Concurrency and Logging

**Concurrency Test**
This test shows that the service supports multiple users at once and that each of their calls to the API
endpoints are logged with their unique client ID

### Test Inputs
- **Log File(s):**
    - `sampleLogs/fullDayLog1.log`
    - `sampleLogs/fullDayLog2.log`
- **Client Parameters:**
    - `clientId`: `A800`
    - `clientId`: `B600`

### Steps Performed
1. Open 2 Windows PowerShell to run at the same time and start client program
- <img src="/images/Conc-1.png" alt="alt text" />
2. Enter client IDs: A800 and B600 and when prompted enter the sample logs paths:
sampleLogs/fullDayLog1.log and sampleLogs/fullDayLog2.log in their respective
Powershell. 
- <img src="/images/Conc-2.png" alt="alt text" />
3. After the logs upload succesfully, write "quit" to exit the log upload loop.
Each client then calls the APIs to process logs.
4. Each client constructs internal data maps that are printed to the console for
verification. 
- <img src="/images/Conc-3.png" alt="alt text" />
5. As above, graphs generated by each client as inspected to verify they match the
trends in their respective logs as well as the data printed on the console.
- <img src="/images/Conc-4.png" alt="alt text" />
- <img src="/images/Conc-5.png" alt="alt text" />
- <img src="/images/Conc-6.png" alt="alt text" />
- <img src="/images/Conc-7.png" alt="alt text" />
6. Logging of API calls can then be verified on the cloud service.
- <img src="/images/Conc-6.png" alt="alt text" />
- <img src="/images/Conc-7.png" alt="alt text" />

---

### Expected Results
- The deployed service successfully services multiple clients at once.
- Data maps produced by the clients match the counts and timestamps from the uploaded log file.
- Visual graph pairs for shown for each endpoint are distinct because they represent different data
entered by separate uploads by the different clients.
- The logging of API calls in the cloud show the different client IDs entered verifying
that a distinct clients called on the service at the same time.





